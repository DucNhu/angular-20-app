<div class="container mx-auto p-8">
  <h1 class="text-3xl font-bold mb-8">Form Demo - PrimeNG Input Components</h1>

  <form (ngSubmit)="onSubmit()" class="form-container">
    <!-- Input Text Section -->
    <section class="form-section">
      <h2 class="text-2xl font-semibold mb-4">Text Inputs</h2>

      <div class="form-group">
        <label for="text-input" class="form-label">Text Input</label>
        <input
          id="text-input"
          type="text"
          pInputText
          [(ngModel)]="textValue"
          name="textValue"
          placeholder="Enter text here"
          class="w-full"
        />
      </div>

      <div class="form-group">
        <label for="email-input" class="form-label">Email Input</label>
        <input
          id="email-input"
          type="email"
          pInputText
          [(ngModel)]="emailValue"
          name="emailValue"
          placeholder="Enter email address"
          class="w-full"
        />
      </div>

      <div class="form-group">
        <label for="password-input" class="form-label">Password Input</label>
        <input
          id="password-input"
          type="password"
          pInputText
          [(ngModel)]="passwordValue"
          name="passwordValue"
          placeholder="Enter password"
          class="w-full"
        />
      </div>
    </section>

    <!-- Input Number Section -->
    <section class="form-section">
      <h2 class="text-2xl font-semibold mb-4">Number Inputs</h2>

      <div class="form-group">
        <label for="number-input" class="form-label">Number Input</label>
        <p-inputNumber
          id="number-input"
          [(ngModel)]="numberValue"
          name="numberValue"
          [showButtons]="true"
          [min]="0"
          [max]="100"
          placeholder="Enter a number"
          class="w-full"
        >
        </p-inputNumber>
      </div>
    </section>

    <!-- Select/Dropdown Section -->
    <section class="form-section" style="height: 400px">
      <h2 class="text-2xl font-semibold mb-4">Select Options</h2>

      <div class="form-group">
        {{ selectedCountry | json }}
        <label for="country-select" class="form-label">Select Country</label>
        <p-select
          id="country-select"
          [(ngModel)]="selectedCountry"
          name="selectedCountry"
          [options]="countries"
          optionLabel="name"
          placeholder="Select a country"
          [showClear]="true"
          class="w-full"
        >
          <ng-template pTemplate="selecteditem" let-country>
            <span class="country-option">
              <span class="country-label">
                @if(selectedCountry?.name == country.name) {
                <svg
                  width="20"
                  height="20"
                  viewBox="0 0 20 20"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M10 0.5C15.2467 0.5 19.5 4.7533 19.5 10C19.5 15.2467 15.2467 19.5 10 19.5C4.7533 19.5 0.5 15.2467 0.5 10C0.5 4.7533 4.7533 0.5 10 0.5Z"
                    fill="white"
                  />
                  <path
                    d="M10 0.5C15.2467 0.5 19.5 4.7533 19.5 10C19.5 15.2467 15.2467 19.5 10 19.5C4.7533 19.5 0.5 15.2467 0.5 10C0.5 4.7533 4.7533 0.5 10 0.5Z"
                    stroke="#0F5A43"
                  />
                  <circle cx="10" cy="10" r="6" fill="#0F5A43" />
                </svg>
                } @else {
                <svg
                  width="20"
                  height="20"
                  viewBox="0 0 20 20"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M0 10C0 4.47715 4.47715 0 10 0C15.5228 0 20 4.47715 20 10C20 15.5228 15.5228 20 10 20C4.47715 20 0 15.5228 0 10Z"
                    fill="white"
                  />
                  <path
                    d="M10 0.5C15.2467 0.5 19.5 4.7533 19.5 10C19.5 15.2467 15.2467 19.5 10 19.5C4.7533 19.5 0.5 15.2467 0.5 10C0.5 4.7533 4.7533 0.5 10 0.5Z"
                    stroke="#767676"
                  />
                </svg>

                }

                {{ country.name }}</span
              >
            </span>
          </ng-template>
        </p-select>
      </div>
    </section>

    <!-- Multi Select Section -->
    <section class="form-section">
      <h2 class="text-2xl font-semibold mb-4">Multiple Select</h2>

      <div class="form-group">
        <label for="cities-multiselect" class="form-label"
          >Select Cities (Multiple)</label
        >
        <p-multiSelect
          id="cities-multiselect"
          [(ngModel)]="selectedCities"
          name="selectedCities"
          [options]="cities"
          placeholder="Select cities"
          [showClear]="true"
          class="w-full"
        >
        </p-multiSelect>
      </div>
    </section>

    <!-- Date Range Section -->
    <section class="form-section">
      <h2 class="text-2xl font-semibold mb-4">Date Range (From - To)</h2>
      <div class="form-group">
        <label for="date-range" class="form-label">Select Date Range</label>
        <nz-range-picker
          id="date-range"
          name="dateRange"
          [(ngModel)]="dateRange"
          nzFormat="dd/MM/yyyy"
          class="w-full"
          [nzAllowClear]="true"
          [nzShowTime]="false"
          nzPlaceholder="['Từ ngày', 'Đến ngày']"
          [nzSeparator]="separatorTemplate"
          [nzSuffixIcon]="customCalendarIcon"
        ></nz-range-picker>
        <ng-template #separatorTemplate>
          <svg
            width="16"
            height="16"
            viewBox="0 0 16 16"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              opacity="0.4"
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M8.31181 3.64645C8.50707 3.45118 8.82366 3.45118 9.01892 3.64645L13.0189 7.64645C13.2142 7.84171 13.2142 8.15829 13.0189 8.35355L9.01892 12.3536C8.82366 12.5488 8.50707 12.5488 8.31181 12.3536C8.11655 12.1583 8.11655 11.8417 8.31181 11.6464L11.4583 8.5H3.33203C3.05589 8.5 2.83203 8.27614 2.83203 8C2.83203 7.72386 3.05589 7.5 3.33203 7.5H11.4583L8.31181 4.35355C8.11655 4.15829 8.11655 3.84171 8.31181 3.64645Z"
              fill="#0F1110"
            />
          </svg>
          <!-- hoặc icon svg tùy chỉnh -->
          <!-- <svg width="16" height="16" viewBox="0 0 24 24">...</svg> -->
        </ng-template>
        <!-- Định nghĩa template SVG -->
        <ng-template #customCalendarIcon>
          <svg
            width="20"
            height="20"
            viewBox="0 0 20 20"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M1.66797 9.9987C1.66797 6.856 1.66797 5.28465 2.64428 4.30834C3.62059 3.33203 5.19194 3.33203 8.33464 3.33203H11.668C14.8107 3.33203 16.382 3.33203 17.3583 4.30834C18.3346 5.28465 18.3346 6.856 18.3346 9.9987V11.6654C18.3346 14.8081 18.3346 16.3794 17.3583 17.3557C16.382 18.332 14.8107 18.332 11.668 18.332H8.33463C5.19194 18.332 3.62059 18.332 2.64428 17.3557C1.66797 16.3794 1.66797 14.8081 1.66797 11.6654V9.9987Z"
              stroke="#0F1110"
              stroke-width="1.5"
            />
            <path
              d="M5.83203 3.33203V2.08203"
              stroke="#0F1110"
              stroke-width="1.5"
              stroke-linecap="round"
            />
            <path
              d="M14.168 3.33203V2.08203"
              stroke="#0F1110"
              stroke-width="1.5"
              stroke-linecap="round"
            />
            <path
              d="M2.08203 7.5H17.9154"
              stroke="#0F1110"
              stroke-width="1.5"
              stroke-linecap="round"
            />
            <path
              d="M14.9987 14.1667C14.9987 14.6269 14.6256 15 14.1654 15C13.7051 15 13.332 14.6269 13.332 14.1667C13.332 13.7064 13.7051 13.3333 14.1654 13.3333C14.6256 13.3333 14.9987 13.7064 14.9987 14.1667Z"
              fill="#0F1110"
            />
            <path
              d="M14.9987 10.8333C14.9987 11.2936 14.6256 11.6667 14.1654 11.6667C13.7051 11.6667 13.332 11.2936 13.332 10.8333C13.332 10.3731 13.7051 10 14.1654 10C14.6256 10 14.9987 10.3731 14.9987 10.8333Z"
              fill="#0F1110"
            />
            <path
              d="M10.8346 14.1667C10.8346 14.6269 10.4615 15 10.0013 15C9.54106 15 9.16797 14.6269 9.16797 14.1667C9.16797 13.7064 9.54106 13.3333 10.0013 13.3333C10.4615 13.3333 10.8346 13.7064 10.8346 14.1667Z"
              fill="#0F1110"
            />
            <path
              d="M10.8346 10.8333C10.8346 11.2936 10.4615 11.6667 10.0013 11.6667C9.54106 11.6667 9.16797 11.2936 9.16797 10.8333C9.16797 10.3731 9.54106 10 10.0013 10C10.4615 10 10.8346 10.3731 10.8346 10.8333Z"
              fill="#0F1110"
            />
            <path
              d="M6.66667 14.1667C6.66667 14.6269 6.29357 15 5.83333 15C5.3731 15 5 14.6269 5 14.1667C5 13.7064 5.3731 13.3333 5.83333 13.3333C6.29357 13.3333 6.66667 13.7064 6.66667 14.1667Z"
              fill="#0F1110"
            />
            <path
              d="M6.66667 10.8333C6.66667 11.2936 6.29357 11.6667 5.83333 11.6667C5.3731 11.6667 5 11.2936 5 10.8333C5 10.3731 5.3731 10 5.83333 10C6.29357 10 6.66667 10.3731 6.66667 10.8333Z"
              fill="#0F1110"
            />
          </svg>
        </ng-template>
      </div>
    </section>

    <!-- Export Columns Section -->
    <section class="form-section">
      <h2 class="text-2xl font-semibold mb-4">Chọn cột xuất file</h2>

      <div class="form-group">
        <p-multiSelect
          [options]="columnOptions"
          [(ngModel)]="selectedColumns"
          name="selectedColumns"
          optionLabel="label"
          optionValue="value"
          placeholder="Chọn dữ liệu hiển thị"
          display="chip"
          [filter]="true"
          filterBy="label"
          [filterMatchMode]="'contains'"
          [showToggleAll]="false"
          [showClear]="true"
          styleClass="w-full"
          panelStyleClass="custom-multiselect-panel"
          (onChange)="onColumnChange($event)"
        >
        </p-multiSelect>
      </div>

      <div class="form-group">
        <p-button
          label="Xuất file"
          icon="pi pi-download"
          (onClick)="exportFile()"
          type="button"
        >
        </p-button>
      </div>
    </section>

    <!-- File Upload Section -->
    <section class="form-section">
      <h2 class="text-2xl font-semibold mb-4">File Upload</h2>

      <div class="form-group">
        <label class="form-label">Tải file lên</label>
        <p-fileUpload
          #fileUpload
          name="files[]"
          url="/api/upload"
          [customUpload]="true"
          (uploadHandler)="onUpload($event)"
          [multiple]="true"
        >
          <ng-template pTemplate="content" let-files let-uploadedFiles>
            <div
              class="file-upload-dropzone p-fileupload-dropzone"
              (click)="fileUpload.choose()"
            >
              <p class="file-upload-title">Kéo thả tệp vào đây</p>
              <p class="file-upload-or">Hoặc</p>
              <button
                type="button"
                class="file-upload-btn"
                (click)="fileUpload.choose(); $event.stopPropagation()"
              >
                <img src="/Upload.svg" alt="" class="file-upload-btn-icon" />
                <span>Chọn tệp</span>
              </button>
              <p class="file-upload-hint">Chấp nhận file .xls, .xlsx có dung lượng tối đa 5mb.</p>
            </div>
          </ng-template>
        </p-fileUpload>
      </div>
    </section>

    <!-- Form Actions -->
    <section class="form-actions">
      <p-button
        type="submit"
        label="Submit"
        severity="primary"
        icon="pi pi-check"
      >
      </p-button>
      <p-button
        type="button"
        label="Reset"
        severity="secondary"
        icon="pi pi-refresh"
        (onClick)="onReset()"
      >
      </p-button>
    </section>
  </form>
</div>
